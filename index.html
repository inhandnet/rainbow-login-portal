<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta name="viewport" content="height = device-height,
width = device-width,target-densitydpi = medium-dpi "/>
    <meta HTTP-EQUIV="Pragma" CONTENT="no-cache">
    <meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache">
    <meta HTTP-EQUIV="Expires" CONTENT="0">
    <link rel="icon" href="" type="image/x-icon" />
    <title lang="text:free_wifi_access"></title>
    <link href="resoureces/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="resoureces/css/ripples.min.css" rel="stylesheet">
    <link href="resoureces/css/material-wfont.min.css" rel="stylesheet">
    <link href="resoureces/css/Rainbow.css" type="text/css" rel="stylesheet" />
    <link href="resoureces/css/verifyBrowser.css" type="text/css" rel="stylesheet" />
</head>
<body class="bg_pc_show">
<div id="wrapper" class="container-fluid">
</div>
<script src="js/jquery-1.11.1.min.js" type="text/javascript"></script>
<script src="js/Rainbow.js" type="text/javascript"></script>
<!--<script src="js/cloud.js" type="text/javascript"></script>-->
<script src="resoureces/js/bootstrap.min.js"></script>
<script src="resoureces/js/ripples.min.js"></script>
<script src="resoureces/js/material.min.js"></script>
<script type="text/javascript">
    var reg=new RegExp("MSIE ([5,6,7,8][/.0-9]{0,})");
    var bua=navigator.userAgent;
    var result=reg.exec(bua);
    var dm=document.documentMode;
    var wanted;
    function _verifyBrowser(){
        if(result){
            wanted="oldbrowser";
        }
        else{
            if(dm){
                switch(dm){
                    case 5:
                    case 6:
                    case 7:
                    case 8:
                    wanted="olddm";
                        break;
                    default :
                        break;
                }
            }
        }
        return wanted;
    };
    var flag=_verifyBrowser();
    function renderTip(){
        var content="";
        if(flag=="oldbrowser"){
            content="<div class='text_div_1'><image class='inhand_logo' />" +
            "<p class='text_title'>浏览器不受支持</p>" +
            "<p class='text_content'>使用当前浏览器，无法获得最佳体验，建议使用最新的IE(非兼容视图)、" +
            "<a class='browser_link' href='http://www.firefox.com.cn'>Firefox</a>或" +
            "<a class='browser_link' href='http://www.google.cn/intl/zh-CN/chrome/browser/'>Chrome</a>浏览器</p></div>"+
            "<div class='text_div_2'>" +
            "<p class='text_title'>Browser Tip</p>" +
            "<p class='text_content'>Suggest to select the latest version of IE(non-compatible view)、" +
            "<a class='browser_link' href='http://www.mozilla.org/en-US/firefox/new/'>Firefox</a> or " +
            "<a class='browser_link' href='https://www.google.com/intl/en/chrome/browser/'>Chrome</a> browser</p></div>";
            }else if(flag=="olddm"){
            content="<div class='text_div_1'><image class='inhand_logo' />" +
            "<p class='text_title'>文档模式太低</p>" +
            "<p class='text_content'>请将浏览器模式(当前可能为兼容模式)切换到极速模式或者将文档模式切换到IE9以上" +
            "</p></div>"+
            "<div class='text_div_2'>" +
            "<p class='text_title'>Document Mode is too low</p>" +
            "<p class='text_content'>Please Switch browser mode (current possible mode is compatibility mode) to speed mode or more than IE9 " +
            "</p></div>";
        }
        $("<div id='tip_top' class='tip_top'></div>")
                .appendTo("body")
                .css({"height":(document.documentElement.clientHeight/2+3),"width":document.documentElement.clientWidth,"top":-(document.documentElement.clientHeight/2)})
                .animate({top:"0px"},300,function(){
                    $("<div id='tip_content' class='tip_content'></div>").html(content)
                            .appendTo("body").css({
                        "top":((document.documentElement.clientHeight/2)-125)+"px",
                        "left":((document.documentElement.clientWidth/2)-225)+"px"});
                    $("<div class='ignore_button'></div>").appendTo($("#tip_content")).text("Skip").mouseover(function(){
                        $(this).css({
                            "cursor":"pointer",
                            "font-weight":"bold"
                        })
                                .mousedown(function(){
                                    $(this).css({
                                        "border-right":"2px solid #dddddd",
                                        "border-bottom":"2px solid #dddddd"
                                    })
                                })
                                .mouseout(function(){
                                    $(this).css({
                                        "border-right":"2px solid #7E807C",
                                        "border-bottom":"2px solid #7E807C",
                                        "font-weight":"normal"
                                    })
                                })
                    }).click(function(){
                        $("#tip_bottom").animate({top:(document.documentElement.clientHeight)+"px"},300,function(){$(this).remove()});
                        $("#tip_top").animate({top:-(document.documentElement.clientHeight/2)+"px"},300,function(){$(this).remove()});
                        $("#tip_content").fadeOut(300,function(){$(this).remove()});
                    })
                });
        $("<div id='tip_bottom' class='tip_bottom'></div>").appendTo("body").css({"height":(document.documentElement.clientHeight/2),"width":document.documentElement.clientWidth,"top":document.documentElement.clientHeight}).animate({top:(document.documentElement.clientHeight/2)+"px"},300)
    };
</script>
<script id="mainHtmlStrLdap" type="text/html">
    <div class='container-fluid'>
        <div class='row'>
            <div class='row bg_color_pc_show mobile_specific' style='background:#4965A0;padding-bottom: 20px;padding-top:10px'>
                <div class='no_border_radius row_min_width col-lg-15 text-center mobile_specific'>
                    <a href='./sub/sms_login.html' class='mobile_specific third_party ldap_login btn-fab btn btn-raised' style='padding: 2px 0;background: rgb(73, 121, 168);color: #ffffff' lang='{title:ldap}' id='mobile_rainbow_ldapLoginBtn'>M</a>
                    <span class='mobile_specific diff_buttons'></span>
                    <a href='https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101149405&redirect_uri=http://qq.u2wifi.cn/login_page/QQ/servercallbackpage.html&scope=get_user_info' class='mobile_specific third_party qq_login btn-fab btn btn-raised' lang='{title:qq}' id='mobile_rainbow_qqLoginBtn'>

                    </a>
                    <a href='https://api.weibo.com/oauth2/authorize?client_id=427142461&response_type=code&redirect_uri=http://qq.360yutu.cn/login_page/sina/servercallbackpage.html' class='mobile_specific third_party sina_login btn-fab btn btn-raised' lang='{title:sina}' id='mobile_rainbow_sinaLoginBtn'>

                    </a>
                    <a href='./sub/wechat.html?wechat=true' class='mobile_specific third_party wechat_login btn-fab btn btn-raised' lang='{title:wechat}' id='mobile_rainbow_wechatLoginBtn'>

                    </a>
                    <span class='mobile_specific diff_buttons'></span>
                    <a data-toggle='tooltip' data-placement='right' title='' data-original-title='Tooltip on left' href='javascript:void(0)' class='mobile_specific third_party one_click btn-fab btn btn-raised' lang='{title:one_click}' id='mobile_one_click'>

                    </a>
                </div>
            </div>
            <div class='row text-center div_pc_show'>
                <div class='text-center row_min_width col-lg-offset-6 col-lg-3 col-md-offset-6 col-md-3'>
                    <img class='img_pc_show' src='resoureces/images/logo.png'>
                </div>
            </div>
            <div class='row all_title_div' style=''>
                <div style='' class='col-lg-offset-6 col-lg-3 text-center'>
                    <h4>自由无线，快乐分享</h4>
                </div>
            </div>
            <div id='form_wrapper'>

            </div>
        </div>
        <div class='row'>
            <div class='col-lg-offset-6 col-lg-3 col-sm-offset-5 col-sm-5'>
                <div class='no_border_radius row row_min_width bg_color_pc_show pc_specific' style='padding-bottom: 20px;margin-top: 15px;padding-top:10px'>
                    <div class='col-lg-15 text-center pc_specific'>
                        <a href='./sub/sms_login.html' class='pc_specific third_party ldap_login btn-fab btn btn-raised' style='padding: 2px 0;background: rgb(73, 121, 168);color: #ffffff' lang='{title:ldap}' id='mobile_rainbow_ldapLoginBtn'>M</a>
                        <span class='pc_specific diff_buttons'></span>
                        <a href='https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101149405&redirect_uri=http://qq.u2wifi.cn/login_page/QQ/servercallbackpage.html&scope=get_user_info' class='pc_specific third_party qq_login btn-fab btn btn-raised' lang='{title:qq}' id='pc_rainbow_qqLoginBtn'>

                        </a>
                        <a href='https://api.weibo.com/oauth2/authorize?client_id=427142461&response_type=code&redirect_uri=http://qq.360yutu.cn/login_page/sina/servercallbackpage.html' class='pc_specific third_party sina_login btn-fab btn btn-raised' lang='{title:sina}' id='pc_rainbow_sinaLoginBtn'>

                        </a>
                        <a href='./sub/wechat.html?wechat=true' class='third_party wechat_login btn-fab btn btn-raised' lang='{title:wechat}' id='pc_rainbow_wechatLoginBtn'>

                        </a>
                    <span class='pc_specific diff_buttons'>

                    </span>
                        <a data-toggle='tooltip' data-placement='right' title='' data-original-title='Tooltip on left' href='javascript:void(0)' class='pc_specific third_party one_click btn-fab btn btn-raised' lang='{title:one_click}' id='pc_one_click'>

                        </a>
                    </div>
                </div>
                <div class='row row_min_width' style='font-size: 12px'>
                    <div class='col-lg-15 col-xs-15' style='padding: 0px 0px 0px 0px'>
                        <div class='checkbox'>
                            <label id='agree' for='rainbow_agree_conditions_terms'>
                                <input type='checkbox' class='rainbow-service' id='rainbow_agree_conditions_terms' /><!--<span class='ripple'></span>-->
                                <span class='check color_white'></span>
                            </label>
                            <a href='./sub/wifi.html' id='conditions_terms' style='color:#114A7B;font-weight: 700' href=''>Wi-Fi使用协议</a>
                        </div>
                    </div>
                </div>
                <div class='row row_min_width' style='font-size:12px;line-height: 70px;'>
                    <div class='col-lg-15 text-center'>技术支持&nbsp;|&nbsp;北京映翰通&nbsp;|&nbsp;010-64391099</div>
                </div>
            </div>
        </div>
    </div>
</script>
<script id="mainHtmlStr" type="text/html">
    <div class='container-fluid'>
        <div class='row'>
            <div class='row bg_color_pc_show mobile_specific' style='background:#4965A0;padding-bottom: 20px;padding-top:10px'>
                <div class='no_border_radius row_min_width col-lg-15 text-center mobile_specific'>
                    <a href='https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101149405&redirect_uri=http://qq.u2wifi.cn/login_page/QQ/servercallbackpage.html&scope=get_user_info' class='mobile_specific third_party qq_login btn-fab btn btn-raised' lang='{title:qq}' id='mobile_rainbow_qqLoginBtn'>

                    </a>
                    <a href='https://api.weibo.com/oauth2/authorize?client_id=427142461&response_type=code&redirect_uri=http://qq.360yutu.cn/login_page/sina/servercallbackpage.html' class='mobile_specific third_party sina_login btn-fab btn btn-raised' lang='{title:sina}' id='mobile_rainbow_sinaLoginBtn'>

                    </a>
                    <a href='./sub/wechat.html?wechat=true' class='mobile_specific third_party wechat_login btn-fab btn btn-raised' lang='{title:wechat}' id='mobile_rainbow_wechatLoginBtn'>

                    </a>
                    <span class='mobile_specific diff_buttons'></span>
                    <a data-toggle='tooltip' data-placement='right' title='' data-original-title='Tooltip on left' href='javascript:void(0)' class='mobile_specific third_party one_click btn-fab btn btn-raised' lang='{title:one_click}' id='mobile_one_click'>

                    </a>
                </div>
            </div>
            <div class='row text-center div_pc_show'>
                <div class='text-center row_min_width col-lg-offset-6 col-lg-3 col-md-offset-6 col-md-3'>
                    <img class='img_pc_show' src='resoureces/images/logo.png'>
                </div>
            </div>
            <div class='row all_title_div' style=''>
                <div style='' class='col-lg-offset-6 col-lg-3 text-center'>
                    <h4>自由无线，快乐分享</h4>
                </div>
            </div>
            <div id='form_wrapper'>

            </div>
        </div>
        <div class='row'>
            <div class='col-lg-offset-6 col-lg-3 col-sm-offset-5 col-sm-5'>
                <div class='no_border_radius row row_min_width bg_color_pc_show pc_specific' style='padding-bottom: 20px;margin-top: 15px;padding-top:10px'>
                    <div class='col-lg-15 text-center pc_specific'>
                        <a href='https://graph.qq.com/oauth2.0/authorize?response_type=code&client_id=101149405&redirect_uri=http://qq.u2wifi.cn/login_page/QQ/servercallbackpage.html&scope=get_user_info' class='pc_specific third_party qq_login btn-fab btn btn-raised' lang='{title:qq}' id='pc_rainbow_qqLoginBtn'>

                        </a>
                        <a href='https://api.weibo.com/oauth2/authorize?client_id=427142461&response_type=code&redirect_uri=http://qq.360yutu.cn/login_page/sina/servercallbackpage.html' class='pc_specific third_party sina_login btn-fab btn btn-raised' lang='{title:sina}' id='pc_rainbow_sinaLoginBtn'>

                        </a>
                        <a href='./sub/wechat.html?wechat=true' class='third_party wechat_login btn-fab btn btn-raised' lang='{title:wechat}' id='pc_rainbow_wechatLoginBtn'>

                        </a>
                    <span class='pc_specific diff_buttons'>

                    </span>
                        <a data-toggle='tooltip' data-placement='right' title='' data-original-title='Tooltip on left' href='javascript:void(0)' class='pc_specific third_party one_click btn-fab btn btn-raised' lang='{title:one_click}' id='pc_one_click'>

                        </a>
                    </div>
                </div>
                <div class='row row_min_width' style='font-size: 12px'>
                    <div class='col-lg-15 col-xs-15' style='padding: 0px 0px 0px 0px'>
                        <div class='checkbox'>
                            <label id='agree' for='rainbow_agree_conditions_terms'>
                                <input type='checkbox' class='rainbow-service' id='rainbow_agree_conditions_terms' /><!--<span class='ripple'></span>-->
                                <span class='check color_white'></span>
                            </label>
                            <a href='./sub/wifi.html' id='conditions_terms' style='color:#114A7B;font-weight: 700' href=''>Wi-Fi使用协议</a>
                        </div>
                    </div>
                </div>
                <div class='row row_min_width' style='font-size:12px;line-height: 70px;'>
                    <div class='col-lg-15 text-center'>技术支持&nbsp;|&nbsp;北京映翰通&nbsp;|&nbsp;010-64391099</div>
                </div>
            </div>
        </div>
    </div>
</script>
<script id="formHtmlLdap" type="text/html">
    <form id="sms_form" role="form" class="no_border_radius row_min_width bg_color_pc_show col-lg-offset-6 col-lg-3 col-sm-offset-5 col-sm-5">
        <div class="row row_min_width"><p class="col-lg-15 p_error_line" id="error_line" ></p></div>
        <div class="row row_min_width"><label for="rainbow_user_name_number"
                                              class="col-lg-15 control-label">用户名</label></div>
        <div class="row row_pc_show row_min_width">
            <div class="col-lg-15"><input type="text" id="rainbow_user_name_number" autocomplete="false"
                                          class="col-lg-15 form-control input_pc_show" placeholder="请输入用户名"
                                          lang="{placeholder:enter_username}"></div>
        </div>
        <div class="row row_min_width">
            <div class="col-lg-15"><span id="rainbow_phone_number_error" class="" role="alert"></span></div>
        </div>
        <div class="row row_min_width"><label for="rainbow_user_password"
                                              class="col-lg-15 control-label">密 码</label></div>
        <div class="row row_pc_show row_min_width">
            <div class="col-lg-15">
                <div class="row">
                    <div class="col-lg-15 password_pc_show"><input type="text" id="rainbow_user_password"
                                                                   autocomplete="false"
                                                                   class="form-control input_pc_show"
                                                                   placeholder="请输入密码"
                                                                   lang="{placeholder:enter_pwd}">
                    </div>
                    <!--<div class="col-lg-6 col-xs-6"><a href="javascript:void(0)"
                                                      class="btn btn-info pull-right btn-raised btn-sm btn_pc_show no_border_radius"
                                                      id="rainbow_get_user_password" lang="text:get_code">获取验证码</a>
                    </div>-->
                </div>
            </div>
        </div>
        <div class="row"><span id="rainbow_password_error" class="rainbow_error_tips"></span></div>
        <div class="row row_min_width">
            <div class="col-lg-15 col-xs-15" style="padding-bottom: 19px"><a href="javascript:void(0)"
                                                                             class="btn btn-info btn-raised log_btn_pc_show no_border_radius "
                                                                             id="rainbow_loginBtn">登录</a><a
                    href="javascript:void(0)" class="btn btn-info btn-raised log_btn_pc_show no_border_radius "
                    id="rainbow_loginBtn_bak" style="display:none" disabled="disabled">登录</a></div>
        </div>
        <div class="row"><span id="rainbow_login_error" class="rainbow_error_tips"></span></div>
    </form>
</script>
<script id="formHtml" type="text/html">
    <form id='sms_form' role='form' class='no_border_radius row_min_width bg_color_pc_show col-lg-offset-6 col-lg-3 col-sm-offset-5 col-sm-5'>
        <div class='row row_min_width'>
            <p class='col-lg-15 p_error_line' id='error_line'>

            </p>
        </div>
        <div class='row row_min_width'>
            <label for='rainbow_user_phone_number' class='col-lg-15 control-label'>手机号</label>
        </div>
        <div class='row row_pc_show row_min_width'>
            <div class='col-lg-15'>
                <input type='text' id='rainbow_user_phone_number' autocomplete='false' class='col-lg-15 form-control input_pc_show' placeholder='请输入手机号' lang='{placeholder:enter_mobile_number}' />
            </div>
        </div>
        <div class='row row_min_width'>
            <div class='col-lg-15'>
                <span id='rainbow_phone_number_error' class='' role='alert'></span>
            </div>
        </div>
        <div class='row row_min_width'>
            <label for='rainbow_user_phone_number' class='col-lg-15 control-label'>验证码</label>
        </div>
        <div class='row row_pc_show row_min_width'>
            <div class='col-lg-15'>
                <div class='row'>
                    <div class='col-lg-9 col-xs-9 password_pc_show'>
                        <input type='text' id='rainbow_user_password' autocomplete='false' class='form-control input_pc_show' placeholder='请输入随机码' lang='{placeholder:enter_password}'>
                    </div>
                    <div class='col-lg-6 col-xs-6'>
                        <a href='javascript:void(0)' class='btn btn-info pull-right btn-raised btn-sm btn_pc_show no_border_radius' id='rainbow_get_user_password' lang='text:get_code'>

                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class='row'>
            <span id='rainbow_password_error' class='rainbow_error_tips'></span>
        </div>
        <div class='row row_min_width'>
            <div class='col-lg-15 col-xs-15' style='padding-bottom: 19px'>
                <a href='javascript:void(0)' class='btn btn-info btn-raised log_btn_pc_show no_border_radius ' id='rainbow_loginBtn'>

                </a>
                <a href='javascript:void(0)' class='btn btn-info btn-raised log_btn_pc_show no_border_radius ' id='rainbow_loginBtn_bak' style='display:none' disabled='disabled'>

                </a>
            </div>
        </div>
        <div class='row'>
        <span id='rainbow_login_error' class='rainbow_error_tips'>

        </span>
        </div>
    </form>
</script>
<script id="qrCodeHtml" type="text/html">
    <div id='dynamic_div' class='no_border_radius row_min_width bg_color_pc_show col-lg-offset-6 col-lg-3 col-sm-offset-5 col-sm-5'>
        <h4 class='dynamic_qr_code'>微信扫描二维码，登录Wi-Fi</h4>
        <img style='margin: 0px auto' class='img-responsive' src='resoureces/images/loading.gif' />
        <hr style='border: 1px solid #E7E6E6'/>
        <a class='btn btn-primary btn-raised btn-lg col-lg-15 col-md-15 col-sm-15 col-xs-15' disabled='disabled'>短信验证登录</a>
    </div>
</script>

<script type="text/javascript">
    function sendJsonp(obj,success,error){
        $.ajax({
            type: 'GET',
            url: obj.uri,
            async: false,
            timeout:5000,
            data:obj.params,
            dataType: "jsonp",
            jsonp: "call_back",
            success: function(data){
                if(success && $.type(success)=='function'){
                    success(data);
                }
            },
            error:function(err){
                if(error && $.type(error)=='function'){
                    error(err);
                }
            }
        })
    }
    //根据是否支持ldap,加载不同的cloud.js
    sendJsonp({
        uri:Rainbow.cloud.inPortalApiHost+Rainbow.cloud.getStaticParamUri,
        params:{}
    },function(data){
//        data={loginMethod:"ldap,weixin,qq,sina"};
        if(data.loginMethod.toLowerCase().indexOf('ldap')>-1){
            var src = 'js/ldap_cloud.js'
        }else{
            var src = 'js/cloud.js'
        }
        $('<script src='+src+'>').appendTo($('head'));
        $(document).ready(function(){
            if(!flag){
                $.material.input();
//设置页面语言
                var option={};
                var lang=navigator.language?navigator.language:navigator.userLanguage;
                switch (lang.toLowerCase()){
                    case "zh-cn":
                        option.lang="zh_CN";
                        break;
                    case "en":
                    default :
                        option.lang="en";
                }
                Rainbow.locale.set(option);
//渲染页面文字
                cloud.insertLoginBox({
                    selector:"#wrapper"
                });
            }else{
                renderTip();
            }
        });
    });
</script>
</body>
</html>