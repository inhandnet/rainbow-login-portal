<!DOCTYPE html>
<html>
<head id="headPart">
    <script type="text/javascript">
        function callback_wifi_user(data){
            parent.window.callback_wifi_user(data);
        };
        function callback_access_token(data){
            parent.window.callback_access_token(data);
        };
        function callback_sms(data){
            parent.window.callback_sms(data);
        };
        function callback_one_key(data){
            parent.window.callback_one_key(data);
        };
        function callback_get_static_param(data){
            parent.window.callback_get_static_param(data);
        }
        function formatData(uri,jsonObj,callbackName){
            var urlParams="";
            jsonObj.time_send=(new Date()).getTime();
            for(i in jsonObj)                                                                   {
                urlParams=urlParams+i+"="+encodeURIComponent(jsonObj[i])+"&";
            }
            urlParams=urlParams+"call_back="+callbackName;
            return uri+"?"+urlParams;
        };
        //在iframe中添加script标签
        function addScript(url,id,container){
            var scriptEle=document.createElement("script");
//            scriptEle.attr({
//                "id":id,
//                "type":"text/javascript",
//                "src":url
//            });
            scriptEle.id=id;
            scriptEle.type="text/javascript";
            scriptEle.src=url;
            var index=url.indexOf("call_back");
            var tempStr=url.slice(index);
            var tempArr=tempStr.split("=");
            var property=tempArr[1];
            var headEle=container?container:document.getElementById("bodyPart");
            headEle.appendChild(scriptEle);
//            setTimeout(function(){
//                if(window[property].timeout){
//                    cloud.loginErrorTipEle.text(Rainbow.locale.get("rquest_timeout"));
//                    //cloud.loginErrorTipEle.text(id);
//                    //window[property].timeout=false;
//                }else{
//                    window[property].timeout=true;
//                }
//                if(id!="forStaticScript"){
//                    if(cloud.oncClickJudge){
//                        cloud.currentClickedOneClick.removeAttr("disabled");
//                    }
//                    cloud.loginBtn.removeAttr("disabled");
//                }
//            },10000);
        };
    </script>
</head>
<body id="bodyPart">
<script type="text/javascript">
    var uri="http://api.m.inhand.com.cn:5280/api/gateway/gateway_info";
    //uri="js/bug.js";
    var jsonObj={
    };
    var url=formatData(uri,jsonObj,"callback_get_static_param");
    var id="forStaticScript";
    //很挫，需要改进
    //setTimeout(function(){
    addScript(url,id);
</script>
</body>
</html>